//*****************************************************************
// OpenPoiMap Javascript library
//*****************************************************************

// Version 1.26

// This library contains 4 separate blocks of code that were previously (up to version 1.05) included as standalone js-files.
//<!-- (mz) Laatste versie: 14-01-16, 10:40 -->

//*****************************************************************
// FeaturePopup.js
//*****************************************************************
var _ZOOM_="&zoom=18";var CONNEX="http://haltepagina.connexxion.nl/home/index?halte=";var DELIJN="https://www.delijn.be/nl/haltes/halte/";var MDB="http://www.molendatabase.nl/nederland/molen.php?nummer=";var DHM="http://www.molens.nl/site/dbase/molen.php?mid=";var MONUREG="http://monumentenregister.cultureelerfgoed.nl/php/main.php?cAction=search&sCompMonNr=";var WIKI='<a target = "_blank" href="http://wiki.openstreetmap.org/wiki/Key:';var buttonShow=false;function showMoreLessButton(show){if(show){thelink='<div id="morebutton" class="buttonclass"><button id="show_button" onclick="showLinks()">hide</button></div>'}else thelink='<div id="morebutton" class="buttonclass"><button id="show_button" onclick="showLinks()">Views and Editors</button></div>';return thelink}function popupLinks(lonlat,feature,show){var buttonClass=(show?'popupLinksShow':'popupLinksHide');var thelink="<div id=\"tlPop\" class=\""+buttonClass+"\"><b>View area with:</b><br><a href=\"http://www.openstreetmap.org?lat="+lonlat.lat+"&lon="+lonlat.lon+_ZOOM_+"\" target=\"_blank\"><img src='img/osm.gif'>&nbsp;OSM</a>&nbsp";thelink=thelink+"<a href=\"https://maps.google.nl/maps?ll="+lonlat.lat+","+lonlat.lon+"&t=h&z=15\" target=\"_blank\"><img src='img/google.gif'>&nbsp;Google</a>&nbsp;";thelink=thelink+"<a href=\"http://www.bing.com/maps/?v=2&cp="+lonlat.lat+"~"+lonlat.lon+"&lvl=15&dir=0&sty=h&form=LMLTCC\" target=\"_blank\"><img src='img/bing.gif'>&nbsp;Bing </a>";thelink=thelink+"<a href=\"http://mijndev.openstreetmap.nl/~allroads/mtm/?map=roads&zoom="+map.getZoom()+"&lat="+lonlat.lat+"&lon="+lonlat.lon+"&layers=B000000FFFFFFFFFFFFTFF\" target=\"_blank\"><img src='img/osm.gif'>&nbsp;MtM</a>&nbsp;";thelink=thelink+"<a href=\"https://www.mapillary.com/app/?lat=" + lonlat.lat + "&lng=" + lonlat.lon + "&z="+ map.getZoom()  + "\" target=\"_blank\"><img src='img/mapillary.png'>&nbsp;Mapillary</a><p>";var area=0.002;var ctop=lonlat.lat+area;var cbottom=ctop-(2*area);var cleft=lonlat.lon-area;var cright=cleft+(2*area);var fid=feature.fid.split(".");thelink=thelink+"<b>Edit area with:</b><br><a href=\"http://localhost:8111/load_and_zoom?top="+ctop+"&bottom="+cbottom+"&left="+cleft+"&right="+cright+"&select="+fid[0]+fid[1]+"\" target=\"josm_frame\">JOSM</a>&nbsp;&diams;&nbsp;";thelink=thelink+"<a href=\"http://www.openstreetmap.org/edit?editor=id&lat="+lonlat.lat+"&lon="+lonlat.lon+_ZOOM_+"\" target=\"_blank\">ID editor</a>&nbsp;&diams;&nbsp;";thelink=thelink+"<a href=\"http://www.openstreetmap.org/edit?editor=potlatch2&lat="+lonlat.lat+"&lon="+lonlat.lon+_ZOOM_+"\" target=\"_blank\">Potlatch&nbsp;2</a>";thelink=thelink+"</div>";return thelink}function showLinks(){var zichtbaar=document.getElementById('tlPop');if(zichtbaar.className=='popupLinksShow'){zichtbaar.className='popupLinksHide';buttonShow=false;document.getElementById('show_button').innerHTML='Views and Editors'}else{zichtbaar.className='popupLinksShow';buttonShow=true;document.getElementById('show_button').innerHTML='Hide'}}function makeWikiLink(key){return WIKI+key+'">'+key+'</a>'}FeaturePopup=OpenLayers.Class({genericUrl:null,map:null,initialize:function(url,map){this.genericUrl=url;this.map=map},click:function(event){var lonlat=event.feature.geometry.getBounds().getCenterLonLat();var xy=event.feature.geometry.getBounds().getCenterLonLat();var popup=new OpenLayers.Popup("location_info",xy,null,"",true);lonlat=lonlat.clone().transform(this.map.projection,this.map.displayProjection);popup.setBackgroundColor("white");popup.opacity=1;popup.setBorder("1px solid green");popup.closeOnMove=false;popup.autoSize=true;popup.maxSize=new OpenLayers.Size(450,500);popup.panMapIfOutOfView=true;popup.contentHTML=this.processFeature(event.feature)+showMoreLessButton(buttonShow)+popupLinks(lonlat,event.feature,buttonShow);this.map.addPopup(popup,true)},processFeature:function(feature){var fid=feature.fid.split(".");return this.processElement(fid[0],fid[1],feature.attributes)},processElement:function(type,id,tags){var html='';var htmlTableStart='';var htmlTableHead='';var htmlTableFoot='';var wikiKeyPage='';var name=tags.name;var name_EN=tags["name:en"];var operator=tags.operator;var note=tags.note;var description=tags.description;var fixme=tags.fixme;var FIXME=tags.FIXME;if(name&&name_EN){name+='<br/>'+name_EN}if(name&&operator){html+='<h4>'+name+'<br/>operator: '+operator+'</h4>'}else{if(operator){html+='<h4>operator: '+operator+'</h4>'}else{if(name){html+='<h4>'+name+'</h4>'}}}if(description){html+='<h5>'+'Description: '+description+'</h5>'}if(note){html+='<h5>'+'Note: '+note+'</h5>'}var address=this.processAddress(tags);if(address)html+=address;var self=this;htmlTableStart='<table class="popupCode">';if(fixme){htmlTableHead+='<tr class="popupRowFixme"><td class="popupKeyFixme">'+'fixme'+'</td><td class="popupValue">'+fixme+'</td></tr>'}if(FIXME){htmlTableHead+='<tr class="popupRowFixme"><td class="popupKeyFixme">'+'FIXME'+'</td><td class="popupValue">'+FIXME+'</td></tr>'}$.each(tags,function(key,val){wikiKeyPage='';tdKeyClass='';tdValClass='';switch(key){case"amenity":wikiKeyPage=WIKI+'amenity">'+key+'</a>';break;case"tourism":wikiKeyPage=WIKI+'tourism">'+key+'</a>';break;case"sport":wikiKeyPage=WIKI+'sport">'+key+'</a>';break;case"shop":wikiKeyPage=WIKI+'shop">'+key+'</a>';break;case"man_made":wikiKeyPage=WIKI+'man_made">'+key+'</a>';break;case"historic":wikiKeyPage=WIKI+'historic">'+key+'</a>';break;case"natural":wikiKeyPage=WIKI+'natural">'+key+'</a>';break;case"landuse":wikiKeyPage=WIKI+'landuse">'+key+'</a>';break;case"leisure":wikiKeyPage=WIKI+'leisure">'+key+'</a>';break;case"heritage":wikiKeyPage=WIKI+'heritage">'+key+'</a>';break;case"office":wikiKeyPage=WIKI+'office">'+key+'</a>';break;case"emergency":wikiKeyPage=WIKI+'emergency">'+key+'</a>';break;case"craft":wikiKeyPage=WIKI+'craft">'+key+'</a>'}keyVal=(wikiKeyPage?wikiKeyPage:key);tdKeyClass=(wikiKeyPage?'<td class="popupMainKey">':'<td class="popupKey">');tdValClass=(wikiKeyPage?'<td class="popupUserValue">':'<td class="popupValue">');var tagHtml=self.processTag(key,val,address);if(tagHtml){if(wikiKeyPage){htmlTableHead+='<tr class="popupRow">'+tdKeyClass+keyVal+'</td>'+tdValClass+tagHtml+'</td></tr>'}else{html+='<tr class="popupRow">'+tdKeyClass+makeWikiLink(keyVal)+'</td>'+tdValClass+tagHtml+'</td></tr>'}}});var htmlOSM='<a target = "_blank" href="http://www.openstreetmap.org/browse/'+type+"/"+id+'">'+type+" "+id+"</a>";htmlTableFoot+='<tr class="popupRowOSM"><td class="popupKey">'+'OSM&nbsp;info'+'</td><td class="popupValue">'+htmlOSM+'</td></tr>';htmlTableFoot+='</table>';return htmlTableStart+htmlTableHead+html+htmlTableFoot},processTag:function(key,value,address){var k=key.split(":");var lang='';var molen='';switch(k[0]){case"website":case"twitter":case"facebook":case"email":case"url":case"image":return this.processContactTag(k[0],value);case"contact":if(k.length>1){return this.processContactTag(k[1],value)}return key;case"wikipedia":if(k.length==2){lang=k[1]+"."}else{lang=""}var s=value.split(':');if(s.length==2){lang=s[0]+".";subject=s[1]}else{subject=value}var href="http://"+lang+"wikipedia.org/wiki/"+subject;return this.makeLink(href,value,true);case"architect":return this.processMultiValue(value);case"addr":return(address?null:value);case"cxx":if(k[1]==='code'){return this.makeLink(CONNEX+value,'bus info: '+value,true)}case"construction":if(k[1]=='website'){return this.makeLink(value,value,true)}case"ref":return this.processRef(k[1],value);case"heritage":if(k[1]=="website"){return this.makeLink(value,value,true)}else return value;case"building":if(k[1]=="colour"){return value+'&nbsp;&nbsp;<span style="background-color:'+value+'">'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+'</span>'}else return value;case"roof":if(k[1]=="colour"){return value+'&nbsp;&nbsp;<span style="background-color:'+value+'">'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+'</span>'}else return value;case"dhm_id":molen=DHM+value;return this.makeLink(molen,value,true);case"mdb_id":molen=MDB+value;return this.makeLink(molen,value,true);case"name":case"operator":case"note":case"description":case"fixme":case"FIXME":return null;default:return value}},processRef:function(key,value){k=value.split(/[;,]/);switch(key){case'rce':return this.makeLink(MONUREG+value,'Monument register: '+value,true);case'De_Lijn':return this.makeLink(DELIJN+k[0],'bus info: '+k[0],true);default:return value}},processMultiValue:function(value){var k=value.split(/[;,]/);html=k[0];if(k.length>1){for(i=1;i<k.length;i++){html+='</br>';html+=k[i]}}return html},processContactTag:function(key,value){switch(key){case"website":case"webcam":case"url":return this.makeLink(value,value,true);case"image":return this.makeImageLink(value,value,true);case"twitter":return this.makeLink("https://twitter.com/"+value,value,true);case"facebook":if(value.indexOf("http")==0||value.indexOf("www")==0||value.indexOf("facebook")==0){return this.makeLink(value,value,true)}return this.makeLink("https://www.facebook.com/"+value,value,true);case"email":return this.makeLink("mailto:"+value,value,true);default:return value}},makeLink:function(href,text,newPage){var html="<a ";if(newPage)html+='target="_blank" ';if(href.indexOf(":")==-1){return html+'href="http://'+href+'">'+text+'</a>'}return html+'href="'+href+'">'+text+'</a>'},makeImageLink:function(href,text,newPage){var html="<a ";if(newPage)html+='target="_blank" ';if(href.indexOf("upload.wiki")>0){return html+'href="'+href+'">'+'<img src="'+href+'" height="60"/></a>'}if(href.indexOf("http://wiki.openstreetmap")==0){return html+'href="'+href+'">'+'<img src="'+href+'" height="60"/></a>'}if(href.indexOf("File:")==0){var imageLink='https://commons.wikimedia.org/wiki/'+href;return html+'href="'+imageLink+'">'+imageLink+'</a>'}if(href.indexOf("https://d1cuyjsrcm0gby.cloudfront.net/")==0){return html+'href="'+href+'">'+'<img src="'+href+'" height="60"/></a>'}if(href.indexOf("wikimedia")>0){return html+'href="'+href+'">'+href+'</a>'}if(href.indexOf("flickr")>0){return html+'href="'+href+'">'+href+'</a><br><div class="unknownLicense">Unknown license!</div>'}if(href.indexOf("wikipedia")>0){return html+'href="'+href+'">'+href+'</a>'}return html+'href="'+href+'">'+'<img src="'+text+'" height="60"/></a><br><div class="unknownLicense">Unknown license!</div>'},processAddress:function(tags){var street=tags["addr:street"];var number=tags["addr:housenumber"];if(!(number))number='';if(!(street))return null;var postcode=tags["addr:postcode"];var city=tags["addr:city"];var html=street+" "+number+"<br />\n";if(postcode)html+=postcode;if(postcode&&city)html+="  ";if(city)html+=city;if(postcode||city)html+="<br />\n";return html},CLASS_NAME:"FeaturePopup"});OpenLayers.Format.OSMExtended=OpenLayers.Class(OpenLayers.Format.XML,{checkTags:false,interestingTagsExclude:null,areaTags:null,areasAsNode:null,initialize:function(options){var layer_defaults={'interestingTagsExclude':['source','source_ref','source:ref','history','attribution','created_by'],'areaTags':['area','building','leisure','tourism','ruins','historic','landuse','military','natural','sport']};layer_defaults=OpenLayers.Util.extend(layer_defaults,options);var interesting={};for(var i=0;i<layer_defaults.interestingTagsExclude.length;i++){interesting[layer_defaults.interestingTagsExclude[i]]=true}layer_defaults.interestingTagsExclude=interesting;var area={};for(var i=0;i<layer_defaults.areaTags.length;i++){area[layer_defaults.areaTags[i]]=true}layer_defaults.areaTags=area;this.externalProjection=new OpenLayers.Projection("EPSG:4326");areasAsNode=(options.areasAsNode===true);OpenLayers.Format.XML.prototype.initialize.apply(this,[layer_defaults])},read:function(doc){if(typeof doc=="string"){doc=OpenLayers.Format.XML.prototype.read.apply(this,[doc])}var nodes=this.getNodes(doc);var ways=this.getWays(doc);var centerNodes=this.getCenterNodes(doc);var feat_list=new Array(ways.length);for(var i=0;i<ways.length;i++){var point_list=new Array(ways[i].nodes.length);var poly=this.isWayArea(ways[i])?1:0;for(var j=0;j<ways[i].nodes.length;j++){var node=nodes[ways[i].nodes[j]];var point=new OpenLayers.Geometry.Point(node.lon,node.lat);point.osm_id=parseInt(ways[i].nodes[j]);point_list[j]=point;node.used=true}var geometry=null;if(poly){geometry=new OpenLayers.Geometry.Polygon(new OpenLayers.Geometry.LinearRing(point_list))}else{geometry=new OpenLayers.Geometry.LineString(point_list)}if(this.internalProjection&&this.externalProjection){geometry.transform(this.externalProjection,this.internalProjection)}var feat=new OpenLayers.Feature.Vector(geometry,ways[i].tags);feat.osm_id=parseInt(ways[i].id);feat.fid="way."+feat.osm_id;feat_list[i]=feat}for(var i=0;i<centerNodes.length;i++){var node=centerNodes[i];var feat=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(node['lon'],node['lat']),node.tags);if(this.internalProjection&&this.externalProjection){feat.geometry.transform(this.externalProjection,this.internalProjection)}feat.osm_id=parseInt(node.id);feat.fid=node.type+"."+feat.osm_id+".center";feat_list.push(feat)}for(var node_id in nodes){var node=nodes[node_id];if(!node.used||this.checkTags){var tags=null;if(this.checkTags){var result=this.getTags(node.node,true);if(node.used&&!result[1]){continue}tags=result[0]}else{tags=this.getTags(node.node)}var feat=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(node['lon'],node['lat']),tags);if(this.internalProjection&&this.externalProjection){feat.geometry.transform(this.externalProjection,this.internalProjection)}feat.osm_id=parseInt(node_id);feat.fid="node."+feat.osm_id;feat_list.push(feat)}node.node=null}return feat_list},getNodes:function(doc){var node_list=doc.getElementsByTagName("node");var nodes={};for(var i=0;i<node_list.length;i++){var node=node_list[i];var id=node.getAttribute("id");nodes[id]={'lat':node.getAttribute("lat"),'lon':node.getAttribute("lon"),'node':node}}return nodes},getWays:function(doc){var way_list=doc.getElementsByTagName("way");var return_ways=[];for(var i=0;i<way_list.length;i++){var way=way_list[i];var way_object={id:way.getAttribute("id")};way_object.tags=this.getTags(way);var node_list=way.getElementsByTagName("nd");way_object.nodes=new Array(node_list.length);for(var j=0;j<node_list.length;j++){way_object.nodes[j]=node_list[j].getAttribute("ref")}return_ways.push(way_object)}return return_ways},getCenterNodes:function(doc){var centerNodes=[];var wayUsed={};var rel_list=doc.getElementsByTagName("relation");for(var i=0;i<rel_list.length;i++){var rel=rel_list[i];var centerTags=rel.getElementsByTagName("center");if(centerTags.length==1){var centerNode={id:rel.getAttribute("id"),tags:this.getTags(rel),type:"relation",lat:centerTags[0].getAttribute("lat"),lon:centerTags[0].getAttribute("lon")};centerNodes.push(centerNode);var memberList=rel.getElementsByTagName("member");for(var j=0;j<memberList.length;j++){var wayId=memberList[j].getAttribute("ref");wayUsed[wayId]=true}}}var way_list=doc.getElementsByTagName("way");for(var i=0;i<way_list.length;i++){var way=way_list[i];var centerTags=way.getElementsByTagName("center");var wayId=way.getAttribute("id");if(centerTags.length==1&&!wayUsed[wayId]){var centerNode={id:way.getAttribute("id"),tags:this.getTags(way),type:"way",lat:centerTags[0].getAttribute("lat"),lon:centerTags[0].getAttribute("lon")};centerNodes.push(centerNode)}}return centerNodes},getTags:function(dom_node,interesting_tags){var tag_list=dom_node.getElementsByTagName("tag");var tags={};var interesting=false;for(var j=0;j<tag_list.length;j++){var key=tag_list[j].getAttribute("k");tags[key]=tag_list[j].getAttribute("v");if(interesting_tags){if(!this.interestingTagsExclude[key]){interesting=true}}}return interesting_tags?[tags,interesting]:tags},isWayArea:function(way){var poly_shaped=false;var poly_tags=false;if(way.nodes[0]==way.nodes[way.nodes.length-1]){poly_shaped=true}if(this.checkTags){for(var key in way.tags){if(this.areaTags[key]){poly_tags=true;break}}}return poly_shaped&&(this.checkTags?poly_tags:true)},write:function(features){if(!(OpenLayers.Util.isArray(features))){features=[features]}this.osm_id=1;this.created_nodes={};var root_node=this.createElementNS(null,"osm");root_node.setAttribute("version","0.5");root_node.setAttribute("generator","OpenLayers "+OpenLayers.VERSION_NUMBER);for(var i=features.length-1;i>=0;i--){var nodes=this.createFeatureNodes(features[i]);for(var j=0;j<nodes.length;j++){root_node.appendChild(nodes[j])}}return OpenLayers.Format.XML.prototype.write.apply(this,[root_node])},createFeatureNodes:function(feature){var nodes=[];var className=feature.geometry.CLASS_NAME;var type=className.substring(className.lastIndexOf(".")+1);type=type.toLowerCase();var builder=this.createXML[type];if(builder){nodes=builder.apply(this,[feature])}return nodes},createXML:{'point':function(point){var id=null;var geometry=point.geometry?point.geometry:point;if(this.internalProjection&&this.externalProjection){geometry=geometry.clone();geometry.transform(this.internalProjection,this.externalProjection)}var already_exists=false;if(point.osm_id){id=point.osm_id;if(this.created_nodes[id]){already_exists=true}}else{id=-this.osm_id;this.osm_id++}var node;if(already_exists){node=this.created_nodes[id]}else{node=this.createElementNS(null,"node")}this.created_nodes[id]=node;node.setAttribute("id",id);node.setAttribute("lon",geometry.x);node.setAttribute("lat",geometry.y);if(point.attributes){this.serializeTags(point,node)}this.setState(point,node);return already_exists?[]:[node]},linestring:function(feature){var id;var nodes=[];var geometry=feature.geometry;if(feature.osm_id){id=feature.osm_id}else{id=-this.osm_id;this.osm_id++}var way=this.createElementNS(null,"way");way.setAttribute("id",id);for(var i=0;i<geometry.components.length;i++){var node=this.createXML['point'].apply(this,[geometry.components[i]]);if(node.length){node=node[0];var node_ref=node.getAttribute("id");nodes.push(node)}else{node_ref=geometry.components[i].osm_id;node=this.created_nodes[node_ref]}this.setState(feature,node);var nd_dom=this.createElementNS(null,"nd");nd_dom.setAttribute("ref",node_ref);way.appendChild(nd_dom)}this.serializeTags(feature,way);nodes.push(way);return nodes},polygon:function(feature){var attrs=OpenLayers.Util.extend({'area':'yes'},feature.attributes);var feat=new OpenLayers.Feature.Vector(feature.geometry.components[0],attrs);feat.osm_id=feature.osm_id;return this.createXML['linestring'].apply(this,[feat])}},serializeTags:function(feature,node){for(var key in feature.attributes){var tag=this.createElementNS(null,"tag");tag.setAttribute("k",key);tag.setAttribute("v",feature.attributes[key]);node.appendChild(tag)}},setState:function(feature,node){if(feature.state){var state=null;switch(feature.state){case OpenLayers.State.UPDATE:state="modify";case OpenLayers.State.DELETE:state="delete"}if(state){node.setAttribute("action",state)}}},CLASS_NAME:"OpenLayers.Format.OSM"});var zoomlevel=14;var popUpZoom=14;var ICON_Z_INDEX=11;function setStatusText(text){var html_node=document.getElementById("statusline");if(html_node!=null){html_node.innerHTML=text;if(text!=""){html_node.style.visibility="visible"}else{html_node.style.visibility="hidden"}}}var zoom_valid=true;var load_counter=0;function make_features_added_closure(){return function(evt){setStatusText("");if(zoom_valid){--load_counter;if(load_counter<=0)setStatusText("")}}}ZoomLimitedBBOXStrategy=OpenLayers.Class(OpenLayers.Strategy.BBOX,{zoom_data_limit:zoomlevel,initialize:function(zoom_data_limit){this.zoom_data_limit=zoom_data_limit;},update:function(options){var mapBounds=this.getMapBounds();if(this.layer&&this.layer.map&&this.layer.map.getZoom()<this.zoom_data_limit){if(this.layer.visibility==true){setStatusText(" Please zoom in to view data! ");zoom_valid=false;this.bounds=null}}else if(mapBounds!==null&&((options&&options.force)||this.invalidBounds(mapBounds))){if(this.layer.visibility==true){++load_counter;setStatusText("<img src='img/zuurstok.gif'>");zoom_valid=true;this.calculateBounds(mapBounds);this.resolution=this.layer.map.getResolution();this.triggerRead(options)}}},CLASS_NAME:"ZoomLimitedBBOXStrategy"});function graphW(name){return(name=="Construction")?23:24}function graphH(name){return(name=="Construction")?20:30}function icon2use(name,uDef,num){if(uDef==false){switch(name){case"Alcohol":return"mapicons/liquor.png";case"Alpine hut":return"mapicons/alpinehut.png";case"Apartment":return"mapicons/apartment-3.png";case"Arts centre":return"mapicons/letter_a.png";case"Artwork":return"mapicons/artwork.png";case"Attraction":return"mapicons/star.png";case"ATM":return"mapicons/atm-2.png";case"Bank":return"mapicons/bank.png";case"Bakery":return"mapicons/bread.png";case"Bar":return"mapicons/bar.png";case"BBQ":return"mapicons/letter_b.png";case"Beauty":return"mapicons/beautysalon.png";case"Bench":return"mapicons/letter_b.png";case"Biergarten":return"mapicons/number_1.png";case"Beverages":return"mapicons/bar_coktail.png";case"Bicycle":return"mapicons/bicycle_shop.png";case"Bicycle parking":return"mapicons/parking_bicycle-2.png";case"Bicycle rental":return"mapicons/cycling.png";case"Books/Stationary":return"mapicons/library.png";case"Busstop":return"mapicons/busstop.png";case"Butcher":return"mapicons/butcher-2.png";case"Cafe":return"mapicons/cafetaria.png";case"Camp site":return"mapicons/camping-2.png";case"Car":return"mapicons/car.png";case"Casino":return"mapicons/casino.png";case"Castle":return"mapicons/castle-2.png";case"Cemetery":return"mapicons/cemetary.png";case"Chalet":return"mapicons/letter_c.png";case"Cheese":return"mapicons/cheese.png";case"Chemist":return"mapicons/drugstore.png";case"Chocolate/Confectionery":return"mapicons/candy.png";case"Cinema":return"mapicons/cinema.png";case"Clinic":return"mapicons/firstaid.png";case"Clothes":return"mapicons/clothers_female.png";case"Coffee":return"mapicons/coffee.png";case"Construction":return"mapicons/highwayconstruction.png";case"Copyshop":return"mapicons/letter_c.png";case"Cosmetics":return"mapicons/perfumery.png";case"Dairy":return"mapicons/milk_and_cookies.png";case"Defibrillator - AED":return"mapicons/aed-2.png";case"Deli":return"mapicons/patisserie.png";case"Department store":return"mapicons/departmentstore.png";case"DIY/hardware":return"mapicons/tools.png";case"Drinking water":return"mapicons/drinkingwater.png";case"E-bike charging":return"mapicons/e-bike-charging.png";case"Embassy":return"mapicons/embassy.png";case"Fast food":return"mapicons/fastfood.png";case"Food court":return"mapicons/letter_f.png";case"fixme":return"mapicons/letter_x.png";case"Fire hose/extinguisher<hr>":return"mapicons/fireexstinguisher.png";case"Firestation":return"mapicons/firemen.png";case"Fuel":return"mapicons/fillingstation.png";case"Gallery":return"mapicons/artgallery.png";case"Garden centre":return"mapicons/flowers-1.png";case"General":return"mapicons/letter_g.png";case"Gift":return"mapicons/gifts.png";case"Grocery":return"mapicons/grocery.png";case"Guest house":return"mapicons/bed_breakfast.png";case"Hairdresser":return"mapicons/barber.png";case"Heritage":return"mapicons/worldheritagesite.png";case"Historic":return"mapicons/star-3.png";case"Hospital":return"mapicons/hospital-building.png";case"Hostel":return"mapicons/hostel_0star.png";case"Hotel":return"mapicons/hotel_0star.png";case"Ice cream":return"mapicons/icecream.png";case"Image":return"mapicons/image.png";case"Information":return"mapicons/information.png";case"Jewelry":return"mapicons/jewelry.png";case"Kindergarten":return"mapicons/daycare.png";case"Kiosk":return"mapicons/kiosk.png";case"Leather":return"mapicons/bags.png";case"Library":return"mapicons/library.png";case"Marketplace":return"mapicons/market.png";case"Memorial":return"mapicons/memorial.png";case"Monument/memorial":return"mapicons/memorial.png";case"Monumental Tree":return"mapicons/tree.png";case"Motel<hr>":return"mapicons/motel-2.png";case"Museum":return"mapicons/museum_art.png";case"Musical instrument":return"mapicons/music_rock.png";case"Music school":return"mapicons/musicschool.png";case"Office":return"mapicons/office-building.png";case"Optician":return"mapicons/glasses.png";case"Organic":return"mapicons/restaurant_vegetarian.png";case"Parking":return"mapicons/parkinggarage.png";case"Pets":return"mapicons/pets.png";case"Pharmacy":return"mapicons/medicine.png";case"Photo":return"mapicons/photo.png";case"Phone":return"mapicons/phones.png";case"Picnic":return"mapicons/picnic-2.png";case"Place of worship":return"mapicons/church-2.png";case"Police":return"mapicons/police.png";case"Letter box":return"mapicons/postal2.png";case"Post office":return"mapicons/postal.png";case"Pub":return"mapicons/pub.png";case"Public camera<hr>":return"mapicons/cctv.png";case"Recycling":return"mapicons/recycle.png";case"Restaurant":return"mapicons/restaurant.png";case"Sauna":return"mapicons/sauna.png";case"School/college":return"mapicons/school.png";case"Seafood":return"mapicons/restaurant_fish.png";case"Shoes":return"mapicons/highhills.png";case"Shopping centre":return"mapicons/mall.png";case"Soccer":return"mapicons/soccer.png";case"Spa":return"mapicons/spa.png";case"Statue":return"mapicons/statue-2.png";case"Supermarket":return"mapicons/supermarket.png";case"Taxi":return"mapicons/taxi.png";case"Textiles":return"mapicons/textiles.png";case"Theatre":return"mapicons/theater.png";case"Theme park":return"mapicons/themepark.png";case"Toilets":return"mapicons/toilets.png";case"Tourism=yes":return"mapicons/sight-2.png";case"Toys":return"mapicons/toys.png";case"Travel agency<hr>":return"mapicons/travel_agency.png";case"University<hr>":return"mapicons/university.png";case"Viewpoint":return"mapicons/viewpoint.png";case"Vineyard":return"mapicons/vineyard.png";case"Watermill":return"mapicons/watermill-2.png";case"Windmill":return"mapicons/windmill-2.png";case"Wine":return"mapicons/winebar.png";case"ZOO<hr>":return"mapicons/zoo.png";case"Church":return"mapicons/chapel-2.png";case"Mosque":return"mapicons/mosquee.png";case"Buddhist Temple":return"mapicons/bouddha.png";case"Hindu Temple":return"mapicons/templehindu.png";case"Synagogue":return"mapicons/synagogue-2.png";case"American football":return"mapicons/usfootball.png";case"Golf":return"mapicons/golfing.png";case"Tennis":return"mapicons/tennis.png";case"Volleyball":return"mapicons/volleyball.png";case"Baseball":return"mapicons/baseball.png";case"Basketball":return"mapicons/basketball.png";case"Ice hockey":return"mapicons/icehockey.png";case"Hockey":return"mapicons/hockey.png";case"Cycling":return"mapicons/cycling.png";case"Swimming":return"mapicons/swimming.png";case"Sports centre":return"mapicons/indoor-arena.png";case"Surfing":return"mapicons/surfing.png";case"Gymnastics":return"mapicons/gymnastics.png";case"Horse racing":return"mapicons/horseriding.png";case"City":return"mapicons/letter_city.png";case"Town":return"mapicons/letter_town.png";case"Village":return"mapicons/letter_village.png";case"Hamlet":return"mapicons/letter_hamlet.png";case"Suburb":return"mapicons/letter_s.png";case"fietspad":return"mapicons/letter_f.png";case"Note-Node":return"mapicons/note1.png";case"Note-Way":return"mapicons/note2.png";}}else{return"mapicons/number_"+num+".png"}}function getCheckboxName(name,uDef,num){return(name=="Construction")?"<img style=\"vertical-align: middle; width=\"18\" height=\"21\"; src=\""+icon2use(name,uDef,num)+"\">"+"&nbsp"+name:"<img style=\"vertical-align: middle; width=\"22\" height=\"26\"; src=\""+icon2use(name,uDef,num)+"\">"+"&nbsp"+name}function make_array_layer(data_array,uDef,vulKleur){var largeLayerArray=[];for(i=0;i<data_array.length;i++){data_array[i].url=QURL+data_array[i].url;largeLayerArray[i]=make_large_layer(vulKleur,uDef,i+1,data_array[i].url,data_array[i].naam,zoomlevel,data_array[i].zichtbaar)}return largeLayerArray}function make_large_layer(vulKleur,uDef,num,data_url,name,zoom,visible){var styleMap=new OpenLayers.StyleMap({externalGraphic:icon2use(name,uDef,num),graphicOpacity:1,fillColor:vulKleur,fillOpacity:0.1,graphicWidth:graphW(name),graphicHeight:graphH(name),graphicYOffset:-graphH(name),graphicZIndex:ICON_Z_INDEX,strokeWidth:1});var checkBoxName=getCheckboxName(name,uDef,num);var layer=new OpenLayers.Layer.Vector(checkBoxName,{strategies:[new ZoomLimitedBBOXStrategy(zoomlevel)],protocol:new OpenLayers.Protocol.HTTP({url:data_url,format:new OpenLayers.Format.OSMExtended({checkTags:true,interestingTagsExclude:["entrance","3dr:direction","level"],areaTags:["building","area","leisure","sport","barrier"]})}),styleMap:styleMap,visibility:visible,projection:new OpenLayers.Projection("EPSG:4326")});layer.events.register("loadend",layer,make_features_added_closure());return layer}function switchtab(newtab,activetab){tabtype[activetab]="";for(i=map.layers.length-1;i>1;i--){if(map.layers[i].isBaseLayer==false){if(map.layers[i].visibility==true){tabtype[activetab]="1"+tabtype[activetab];}else{tabtype[activetab]="0"+tabtype[activetab]}map.layers[i].destroy()}}layerdef(newtab);if(tabtype[newtab]!==undefined){offset=map.layers.length-tabtype[newtab].length;for(i=offset;i<map.layers.length;i++){if(tabtype[newtab].charAt(i-offset)=="1"){map.layers[i].setVisibility(true)}else{map.layers[i].setVisibility(false)}}}document.getElementById(activetab).className="dorment";document.getElementById(newtab).className="choice";tabtype.name=newtab;plink.base="?"+"map="+newtab;plink.updateLink();}function showZoom(zoom){document.getElementById("zoom").innerHTML=map.Getzoom()}function showPosition(position){lat=position.coords.latitude;lon=position.coords.longitude;map.setCenter(new OpenLayers.LonLat(lon,lat).transform(map.displayProjection,map.projection),popUpZoom)}function getPos(){if(navigator.geolocation){var my_geo_options={enableHighAccuracy:true};navigator.geolocation.getCurrentPosition(showPosition,noPos,my_geo_options)}}function noPos(ercode){alert("Unable to get location")}var amenitydef=[{url:"?data=(node[amenity=atm](bbox);way[amenity=atm](bbox);node[amenity=bank][atm][atm!=no](bbox);way[amenity=bank][atm][atm!=no](bbox);rel[amenity=bank][atm][atm!=no](bbox));(._;>;);out center;",naam:"ATM",zichtbaar:false},{url:"?data=(node[amenity=bank](bbox);way[amenity=bank](bbox);rel[amenity=bank](bbox));(._;>;);out center;",naam:"Bank",zichtbaar:false},{url:"?data=(node[amenity=bench](bbox);node(w););out center;",naam:"Bench",zichtbaar:false},{url:"?data=(node[amenity=bicycle_parking](bbox);way[amenity=bicycle_parking](bbox);rel[amenity=bicycle_parking](bbox));(._;>;);out center;",naam:"Bicycle parking",zichtbaar:false},{url:"?data=(node[amenity=bicycle_rental](bbox);way[amenity=bicycle_rental](bbox);rel[amenity=bicycle_rental](bbox));(._;>;);out center;",naam:"Bicycle rental",zichtbaar:false},{url:"?data=(node[amenity=cinema](bbox);way[amenity=cinema](bbox);rel[amenity=cinema](bbox));(._;>;);out center;",naam:"Cinema",zichtbaar:false},{url:"?data=(node[amenity=clinic](bbox);way[amenity=clinic](bbox);rel[amenity=clinic](bbox));(._;>;);out center;",naam:"Clinic",zichtbaar:false},{url:"?data=(node[amenity=embassy](bbox);way[amenity=embassy](bbox);rel[amenity=embassy](bbox));(._;>;);out center;",naam:"Embassy",zichtbaar:false},{url:"?data=(node[amenity=firestation](bbox);way[amenity=firestation](bbox);rel[amenity=firestation](bbox));(._;>;);out center;",naam:"Firestation",zichtbaar:false},{url:"?data=(node[amenity=fuel](bbox);way[amenity=fuel](bbox);rel[amenity=fuel](bbox));(._;>;);out center;",naam:"Fuel",zichtbaar:false},{url:"?data=(node[amenity=hospital](bbox);way[amenity=hospital](bbox);rel[amenity=hospital](bbox));(._;>;);out center;",naam:"Hospital",zichtbaar:false},{url:"?data=(node[amenity=library](bbox);way[amenity=library](bbox);rel[amenity=library](bbox));(._;>;);out center;",naam:"Library",zichtbaar:false},{url:"?data=(node[amenity=music_school](bbox);way[amenity=music_school](bbox);rel[amenity=music_school](bbox));(._;>;);out center;",naam:"Music school",zichtbaar:false},{url:"?data=(node[amenity=parking](bbox);way[amenity=parking](bbox);rel[amenity=parking](bbox));(._;>;);out center;",naam:"Parking",zichtbaar:false},{url:"?data=(node[amenity=pharmacy](bbox);way[amenity=pharmacy](bbox);rel[amenity=pharmacy](bbox));(._;>;);out center;",naam:"Pharmacy",zichtbaar:false},{url:"?data=(node[amenity=police](bbox);way[amenity=police](bbox);rel[amenity=police](bbox));(._;>;);out center;",naam:"Police",zichtbaar:false},{url:"?data=(node[amenity=post_box](bbox);node(w););out center;",naam:"Letter box",zichtbaar:false},{url:"?data=(node[amenity=post_office](bbox);way[amenity=post_office](bbox);rel[amenity=post_office](bbox));(._;>;);out center;",naam:"Post office",zichtbaar:false},{url:"?data=(node[amenity~'^school$|^college$'](bbox);way[amenity~'^school$|^college$'](bbox);rel[amenity~'^school$|^college$'](bbox));(._;>;);out center;",naam:"School/college",zichtbaar:false},{url:"?data=(node[amenity=taxi](bbox);way[amenity=taxi](bbox);rel[amenity=taxi](bbox));(._;>;);out center;",naam:"Taxi",zichtbaar:false},{url:"?data=(node[amenity=theatre](bbox);way[amenity=theatre](bbox);rel[amenity=theatre](bbox));(._;>;);out center;",naam:"Theatre",zichtbaar:false},{url:"?data=(node[amenity=toilets](bbox);way[amenity=toilets](bbox);rel[amenity=toilets](bbox));(._;>;);out center;",naam:"Toilets",zichtbaar:false},{url:"?data=(node[amenity=university](bbox);way[amenity=university](bbox);rel[amenity=university](bbox));(._;>;);out center;",naam:"University<hr>",zichtbaar:false},{url:"?data=(node[amenity=place_of_worship][religion!~'christian|muslim|buddhist|hindu|jewish'](bbox);way[amenity=place_of_worship][religion!~'christian|muslim|buddhist|hindu|jewish'](bbox);rel[amenity=place_of_worship][religion!~'christian|muslim|buddhist|hindu|jewish'](bbox));(._;>;);out center;",naam:"Place of worship",zichtbaar:false},{url:"?data=(node[amenity=place_of_worship][religion=christian](bbox);way[amenity=place_of_worship][religion=christian](bbox);rel[amenity=place_of_worship][religion=christian](bbox));(._;>;);out center;",naam:"Church",zichtbaar:false},{url:"?data=(node[amenity=place_of_worship][religion=muslim](bbox);way[amenity=place_of_worship][religion=muslim](bbox);rel[amenity=place_of_worship][religion=muslim](bbox));(._;>;);out center;",naam:"Mosque",zichtbaar:false},{url:"?data=(node[amenity=place_of_worship][religion=buddhist](bbox);way[amenity=place_of_worship][religion=buddhist](bbox);rel[amenity=place_of_worship][religion=buddhist](bbox));(._;>;);out center;",naam:"Buddhist Temple",zichtbaar:false},{url:"?data=(node[amenity=place_of_worship][religion=hindu](bbox);way[amenity=place_of_worship][religion=hindu](bbox);rel[amenity=place_of_worship][religion=hindu](bbox));(._;>;);out center;",naam:"Hindu Temple",zichtbaar:false},{url:"?data=(node[amenity=place_of_worship][religion=jewish](bbox);way[amenity=place_of_worship][religion=jewish](bbox);rel[amenity=place_of_worship][religion=jewish](bbox));(._;>;);out center;",naam:"Synagogue",zichtbaar:false},{url:"?data=(node[landuse=cemetery][animal!~'.'](bbox);way[landuse=cemetery][animal!~'.'](bbox);rel[landuse=cemetery][animal!~'.'](bbox));(._;>;);out center;",naam:"Cemetery",zichtbaar:false}];var tourismdef=[{url:"?data=(node[amenity=arts_centre](bbox);way[amenity=arts_centre](bbox);rel[amenity=arts_centre](bbox));(._;>;);out center;",naam:"Arts centre",zichtbaar:false},{url:"?data=(node[tourism=artwork][artwork_type!~'statue'](bbox);way[tourism=artwork](bbox);rel[tourism=artwork](bbox));(._;>;);out center;",naam:"Artwork",zichtbaar:false},{url:"?data=(node[tourism=attraction](bbox);way[tourism=attraction](bbox);rel[tourism=attraction](bbox));(._;>;);out center;",naam:"Attraction",zichtbaar:false},{url:"?data=(node[leisure=casino](bbox);way[leisure=casino](bbox);rel[leisure=casino](bbox));(._;>;);out center;",naam:"Casino",zichtbaar:false},{url:"?data=(node[historic=castle](bbox);way[historic=castle](bbox);rel[historic=castle](bbox));(._;>;);out center;",naam:"Castle",zichtbaar:false},{url:"?data=(node[tourism=gallery](bbox);way[tourism=gallery](bbox);rel[tourism=gallery](bbox));(._;>;);out center;",naam:"Gallery",zichtbaar:false},{url:"?data=(node[heritage](bbox);way[heritage](bbox);rel[heritage](bbox));(._;>;);out center;",naam:"Heritage",zichtbaar:false},{url:"?data=(node[historic][historic!~'memorial|monument|statue|castle'](bbox);way[historic][historic!~'memorial|monument|statue|castle'](bbox);rel[historic][historic!~'memorial|monument|statue|castle'](bbox));(._;>;);out center;",naam:"Historic",zichtbaar:false},{url:"?data=(node[tourism=information](bbox);way[tourism=information](bbox));(._;>;);out center;",naam:"Information",zichtbaar:false},{url:"?data=(node[historic~'^monument$|^memorial$'](bbox);way[historic~'^monument$|^memorial$'](bbox);rel[historic~'^monument$|^memorial$'](bbox));(._;>;);out center;",naam:"Monument/memorial",zichtbaar:false},{url:"?data=(node[natural=tree][monument=yes](bbox));(._;>;);out center;",naam:"Monumental Tree",zichtbaar:false},{url:"?data=(node[tourism=museum](bbox);way[tourism=museum](bbox);rel[tourism=museum](bbox));(._;>;);out center;",naam:"Museum",zichtbaar:false},{url:"?data=(node[tourism=picnic_site](bbox);way[tourism=picnic_site](bbox);rel[tourism=picnic_site](bbox));(._;>;);out center;",naam:"Picnic",zichtbaar:false},{url:"?data=(node[historic=statue](bbox);node[landmark=statue](bbox);node[tourism=artwork][artwork_type=statue](bbox));(._;>;);out center;",naam:"Statue",zichtbaar:false},{url:"?data=(node[tourism=theme_park](bbox);way[tourism=theme_park](bbox);rel[tourism=theme_park](bbox));(._;>;);out center;",naam:"Theme park",zichtbaar:false},{url:"?data=(node[tourism=viewpoint](bbox);way[tourism=viewpoint](bbox);rel[tourism=viewpoint](bbox));(._;>;);out center;",naam:"Viewpoint",zichtbaar:false},{url:"?data=(node[landuse=vineyard](bbox);way[landuse=vineyard](bbox);rel[landuse=vineyard](bbox));(._;>;);out center;",naam:"Vineyard",zichtbaar:false},{url:"?data=(node[man_made=windmill](bbox);way[man_made=windmill](bbox);rel[man_made=windmill](bbox));(._;>;);out center;",naam:"Windmill",zichtbaar:false},{url:"?data=(node[man_made=watermill](bbox);way[man_made=watermill](bbox);rel[man_made=watermill](bbox));(._;>;);out center;",naam:"Watermill",zichtbaar:false},{url:"?data=(node[tourism=zoo](bbox);way[tourism=zoo](bbox);rel[tourism=zoo](bbox));(._;>;);out center;",naam:"ZOO<hr>",zichtbaar:false},{url:"?data=(node[tourism=yes](bbox);way[tourism=yes](bbox);rel[tourism=yes](bbox));(._;>;);out center;",naam:"Tourism=yes",zichtbaar:false}];var hotelsdef=[{url:"?data=(node[tourism=alpine_hut](bbox);way[tourism=alpine_hut](bbox);rel[tourism=alpine_hut](bbox));(._;>;);out center;",naam:"Alpine hut",zichtbaar:false},{url:"?data=(node[tourism=apartment](bbox);way[tourism=apartment](bbox);rel[tourism=apartment](bbox));(._;>;);out center;",naam:"Apartment",zichtbaar:false},{url:"?data=(node[tourism=camp_site][backcountry!=yes](bbox);way[tourism=camp_site][backcountry!=yes](bbox);rel[tourism=camp_site][backcountry!=yes](bbox));(._;>;);out center;",naam:"Camp site",zichtbaar:false},{url:"?data=(node[tourism=chalet](bbox);way[tourism=chalet](bbox);rel[tourism=chalet](bbox));(._;>;);out center;",naam:"Chalet",zichtbaar:false},{url:"?data=(node[tourism~'guest_house|bed_and_breakfast'](bbox);way[tourism~'guest_house|bed_and_breakfast'](bbox);rel[tourism~'guest_house|bed_and_breakfast'](bbox));(._;>;);out center;",naam:"Guest house",zichtbaar:false},{url:"?data=(node[tourism=hostel](bbox);way[tourism=hostel](bbox);rel[tourism=hostel](bbox));(._;>;);out center;",naam:"Hostel",zichtbaar:false},{url:"?data=(node[tourism=hotel](bbox);way[tourism=hotel](bbox);rel[tourism=hotel](bbox));(._;>;);out center;",naam:"Hotel",zichtbaar:false},{url:"?data=(node[tourism=motel](bbox);way[tourism=motel](bbox);rel[tourism=motel](bbox));(._;>;);out center;",naam:"Motel<hr>",zichtbaar:false},{url:"?data=(node[amenity=casino](bbox);way[amenity=casino](bbox);rel[amenity=casino](bbox));(._;>;);out center;",naam:"Casino",zichtbaar:false},{url:"?data=(node[leisure=spa](bbox);way[leisure=spa](bbox);rel[leisure=spa](bbox));(._;>;);out center;",naam:"Spa",zichtbaar:false},{url:"?data=(node[leisure=sauna](bbox);way[leisure=sauna](bbox);rel[leisure=sauna](bbox));(._;>;);out center;",naam:"Sauna",zichtbaar:false}];var sportdef=[{url:"?data=(way[sport=american_football](bbox);way[sport=american_football](bbox));(._;>;);out center;",naam:"American football",zichtbaar:false},{url:"?data=(way[sport=baseball](bbox);node[sport=baseball](bbox));(._;>;);out center;",naam:"Baseball",zichtbaar:false},{url:"?data=(way[sport=basketball](bbox);node[sport=basketball](bbox));(._;>;);out center;",naam:"Basketball",zichtbaar:false},{url:"?data=(way[sport=cycling](bbox);node[sport=cycling](bbox);rel[sport=cycling](bbox));(._;>;);out center;",naam:"Cycling",zichtbaar:false},{url:"?data=(way[sport=gymnastics](bbox);node[sport=gymnastics](bbox);rel[sport=gymnastics](bbox));(._;>;);out center;",naam:"Gymnastics",zichtbaar:false},{url:"?data=(way[leisure=golf_course](bbox);way[sport=golf](bbox);node[leisure=golf_course](bbox);node[sport=golf](bbox);rel[leisure=golf_course](bbox);rel[sport=golf](bbox));(._;>;);out center;",naam:"Golf",zichtbaar:false},{url:"?data=(way[sport=hockey](bbox);node[sport=hockey](bbox);rel[sport=hockey](bbox);way[sport=field_hockey](bbox);node[sport=field_hockey](bbox);rel[sport=field_hockey](bbox));(._;>;);out center;",naam:"Hockey",zichtbaar:false},{url:"?data=(way[sport=horse_racing](bbox);(way[sport=equestrian](bbox);node[sport=horse_racing](bbox);(node[sport=equestrian](bbox));(._;>;);out center;",naam:"Horse racing",zichtbaar:false},{url:"?data=(way[sport=ice_hockey](bbox);node[sport=ice_hockey](bbox);rel[sport=ice_hockey](bbox);way[leisure=ice_rink](bbox));(node[leisure=ice_rink](bbox));(._;>;);out center;",naam:"Ice hockey",zichtbaar:false},{url:"?data=(way[sport=soccer](bbox);node[sport=soccer](bbox);rel[sport=soccer](bbox));(._;>;);out center;",naam:"Soccer",zichtbaar:false},{url:"?data=(way[leisure=sports_centre](bbox);node[leisure=sports_centre](bbox);rel[leisure=sports_centre](bbox));(._;>;);out center;",naam:"Sports centre",zichtbaar:false},{url:"?data=(way[sport=surfing](bbox);node[sport=surfing](bbox);rel[sport=surfing](bbox));(._;>;);out center;",naam:"Surfing",zichtbaar:false},{url:"?data=(way[sport=swimming](bbox);node[sport=swimming](bbox);rel[sport=swimming](bbox));(._;>;);out center;",naam:"Swimming",zichtbaar:false},{url:"?data=(way[sport=tennis](bbox);node[sport=tennis](bbox));(._;>;);out center;",naam:"Tennis",zichtbaar:false},{url:"?data=(way[sport=volleybal](bbox);node[sport=volleybal](bbox));(._;>;);out center;",naam:"Volleyball",zichtbaar:false}];var shopdef=[{url:"?data=(node[shop=beauty](bbox);way[shop=beauty](bbox);rel[shop=beauty](bbox));(._;>;);out center;",naam:"Beauty",zichtbaar:false},{url:"?data=(node[shop=bicycle](bbox);way[shop=bicycle](bbox);rel[shop=bicycle](bbox));(._;>;);out center;",naam:"Bicycle",zichtbaar:false},{url:"?data=(node[shop~'books|stationary'](bbox);way[shop~'books|stationary'](bbox);rel[shop~'books|stationary'](bbox));(._;>;);out center;",naam:"Books/Stationary",zichtbaar:false},{url:"?data=(node[shop=car](bbox);way[shop=car](bbox);rel[shop=car](bbox));(._;>;);out center;",naam:"Car",zichtbaar:false},{url:"?data=(node[shop=chemist](bbox);way[shop=chemist](bbox);rel[shop=chemist](bbox));(._;>;);out center;",naam:"Chemist",zichtbaar:false},{url:"?data=(node[shop=clothes](bbox);way[shop=clothes](bbox);rel[shop=clothes](bbox));(._;>;);out center;",naam:"Clothes",zichtbaar:false},{url:"?data=(node[shop=copyshop](bbox);way[shop=copyshop](bbox);rel[shop=copyshop](bbox));(._;>;);out center;",naam:"Copyshop",zichtbaar:false},{url:"?data=(node[shop=cosmetics](bbox);way[shop=cosmetics](bbox);rel[shop=cosmetics](bbox));(._;>;);out center;",naam:"Cosmetics",zichtbaar:false},{url:"?data=(node[shop=department_store](bbox);way[shop=department_store](bbox);rel[shop=department_store](bbox));(._;>;);out center;",naam:"Department store",zichtbaar:false},{url:"?data=(node[shop~'doityourself|hardware'](bbox);way[shop~'doityourself|hardware'](bbox);rel[shop~'doityourself|hardware'](bbox));(._;>;);out center;",naam:"DIY/hardware",zichtbaar:false},{url:"?data=(node[shop=garden_centre](bbox);way[shop=garden_centre](bbox);rel[shop=garden_centre](bbox));(._;>;);out center;",naam:"Garden centre",zichtbaar:false},{url:"?data=(node[shop=general](bbox);way[shop=general](bbox);rel[shop=general](bbox));(._;>;);out center;",naam:"General",zichtbaar:false},{url:"?data=(node[shop=gift](bbox);way[shop=gift](bbox);rel[shop=gift](bbox));(._;>;);out center;",naam:"Gift",zichtbaar:false},{url:"?data=(node[shop=hairdresser](bbox);way[shop=hairdresser](bbox);rel[shop=hairdresser](bbox));(._;>;);out center;",naam:"Hairdresser",zichtbaar:false},{url:"?data=(node[shop~'jewelry|jewellery'](bbox);way[shop~'jewelry|jewellery'](bbox);rel[shop~'jewelry|jewellery'](bbox));(._;>;);out center;",naam:"Jewelry",zichtbaar:false},{url:"?data=(node[shop=kiosk](bbox);way[shop=kiosk](bbox);rel[shop=kiosk](bbox));(._;>;);out center;",naam:"Kiosk",zichtbaar:false},{url:"?data=(node[shop=leather](bbox);way[shop=leather](bbox);rel[shop=leather](bbox));(._;>;);out center;",naam:"Leather",zichtbaar:false},{url:"?data=(node[amenity=marketplace](bbox);way[amenity=marketplace](bbox);rel[amenity=marketplace](bbox));(._;>;);out center;",naam:"Marketplace",zichtbaar:false},{url:"?data=(node[shop=musical_instrument](bbox);way[shop=musical_instrument](bbox);rel[shop=musical_instrument](bbox));(._;>;);out center;",naam:"Musical instrument",zichtbaar:false},{url:"?data=(node[shop=optician](bbox);way[shop=optician](bbox);rel[shop=optician](bbox));(._;>;);out center;",naam:"Optician",zichtbaar:false},{url:"?data=(node[shop=pets](bbox);way[shop=pets](bbox);rel[shop=pets](bbox));(._;>;);out center;",naam:"Pets",zichtbaar:false},{url:"?data=(node[shop=mobile_phone](bbox);way[shop=mobile_phone](bbox);rel[shop=mobile_phone](bbox));(._;>;);out center;",naam:"Phone",zichtbaar:false},{url:"?data=(node[shop=photo](bbox);way[shop=photo](bbox);rel[shop=photo](bbox));(._;>;);out center;",naam:"Photo",zichtbaar:false},{url:"?data=(node[shop=shoes](bbox);way[shop=shoes](bbox));(._;>;);out center;",naam:"Shoes",zichtbaar:false},{url:"?data=(node[shop=mall](bbox);way[shop=mall](bbox);rel[shop=mall](bbox));(._;>;);out center;",naam:"Shopping centre",zichtbaar:false},{url:"?data=(node[shop=textiles](bbox);way[shop=textiles](bbox);rel[shop=textiles](bbox));(._;>;);out center;",naam:"Textiles",zichtbaar:false},{url:"?data=(node[shop=toys](bbox);way[shop=toys](bbox);rel[shop=toys](bbox));(._;>;);out center;",naam:"Toys",zichtbaar:false}];var fooddef=[{url:"?data=(node[shop=alcohol](bbox);way[shop=alcohol](bbox);rel[shop=alcohol](bbox));(._;>;);out center;",naam:"Alcohol",zichtbaar:false},{url:"?data=(node[shop=bakery](bbox);way[shop=bakery](bbox));(._;>;);out center;",naam:"Bakery",zichtbaar:false},{url:"?data=(node[shop=beverages](bbox);way[shop=beverages](bbox);rel[shop=beverages](bbox));(._;>;);out center;",naam:"Beverages",zichtbaar:false},{url:"?data=(node[shop=butcher](bbox);way[shop=butcher](bbox);rel[shop=butcher](bbox));(._;>;);out center;",naam:"Butcher",zichtbaar:false},{url:"?data=(node[shop=cheese](bbox);way[shop=cheese](bbox);rel[shop=cheese](bbox));(._;>;);out center;",naam:"Cheese",zichtbaar:false},{url:"?data=(node[shop~'chocolate|confectionery'](bbox);way[shop~'chocolate|confectionery'](bbox);rel[shop~'chocolate|confectionery'](bbox));(._;>;);out center;",naam:"Chocolate/Confectionery",zichtbaar:false},{url:"?data=(node[shop=coffee](bbox);way[shop=coffee](bbox);rel[shop=coffee](bbox));(._;>;);out center;",naam:"Coffee",zichtbaar:false},{url:"?data=(node[shop=dairy](bbox);way[shop=dairy](bbox));(._;>;);out center;",naam:"Dairy",zichtbaar:false},{url:"?data=(node[shop=deli](bbox);way[shop=deli](bbox);node[shop=delicatessen](bbox);way[shop=delicatessen](bbox));(._;>;);out center;",naam:"Deli",zichtbaar:false},{url:"?data=(node[amenity=drinking_water](bbox);way[amenity=drinking_water](bbox);rel[amenity=drinking_water](bbox));(._;>;);out center;",naam:"Drinking water",zichtbaar:false},{url:"?data=(node[shop=grocery](bbox);way[shop=grocery](bbox));(._;>;);out center;",naam:"Grocery",zichtbaar:false},{url:"?data=(node[shop=organic](bbox);way[shop=organic](bbox);rel[shop=organic](bbox));(._;>;);out center;",naam:"Organic",zichtbaar:false},{url:"?data=(node[shop=seafood](bbox);way[shop=seafood](bbox);rel[shop=seafood](bbox));(._;>;);out center;",naam:"Seafood",zichtbaar:false},{url:"?data=(node[shop=supermarket](bbox);way[shop=supermarket](bbox));(._;>;);out center;",naam:"Supermarket",zichtbaar:false},{url:"?data=(node[shop=wine](bbox);way[shop=wine](bbox);rel[shop=wine](bbox));(._;>;);out center;",naam:"Wine",zichtbaar:false}];var restaurantsdef=[{url:"?data=(node[amenity=bar](bbox);way[amenity=bar](bbox);rel[amenity=bar](bbox));(._;>;);out center;",naam:"Bar",zichtbaar:false},{url:"?data=(node[amenity=bbq](bbox);way[amenity=bbq](bbox));(._;>;);out center;",naam:"BBQ",zichtbaar:false},{url:"?data=(node[amenity=biergarten](bbox);way[amenity=biergarten](bbox));(._;>;);out center;",naam:"Biergarten",zichtbaar:false},{url:"?data=(node[amenity=cafe](bbox);way[amenity=cafe](bbox);rel[amenity=cafe](bbox));(._;>;);out center;",naam:"Cafe",zichtbaar:false},{url:"?data=(node[amenity=fast_food](bbox);way[amenity=fast_food](bbox);rel[amenity=fast_food](bbox));(._;>;);out center;",naam:"Fast food",zichtbaar:false},{url:"?data=(node[amenity=food_court](bbox);way[amenity=food_court](bbox));(._;>;);out center;",naam:"Food court",zichtbaar:false},{url:"?data=(node[amenity=ice_cream](bbox);way[amenity=ice_cream](bbox);rel[amenity=ice_cream](bbox);node[cuisine=ice_cream](bbox);way[cuisine=ice_cream](bbox);rel[cuisine=ice_cream](bbox));(._;>;);out center;",naam:"Ice cream",zichtbaar:false},{url:"?data=(node[amenity=pub](bbox);way[amenity=pub](bbox);rel[amenity=pub](bbox));(._;>;);out center;",naam:"Pub",zichtbaar:false},{url:"?data=(node[amenity=restaurant](bbox);way[amenity=restaurant](bbox);rel[amenity=restaurant](bbox));(._;>;);out center;",naam:"Restaurant",zichtbaar:false}];var variousdef=[{url:"?data=(node[highway=bus_stop](bbox));(._;>;);out center;",naam:"Busstop",zichtbaar:false},{url:"?data=(node[amenity=charging_station][bicycle=yes](bbox);rel[amenity=charging_station][bicycle=yes](bbox));(._;>;);out center;",naam:"E-bike charging",zichtbaar:false},{url:"?data=(node[amenity~'childcare|kindergarten'](bbox);way[amenity~'childcare|kindergarten'](bbox);rel[amenity~'childcare|kindergarten'](bbox));(._;>;);out center;",naam:"Kindergarten",zichtbaar:false},{url:"?data=(node[amenity=marketplace](bbox);way[amenity=marketplace](bbox);rel[amenity=marketplace](bbox));(._;>;);out center;",naam:"Marketplace",zichtbaar:false},{url:"?data=(node[office](bbox);way[office](bbox);rel[office](bbox));(._;>;);out center;",naam:"Office",zichtbaar:false},{url:"?data=(node[amenity=recycling](bbox);way[amenity=recycling](bbox);rel[amenity=recycling](bbox));(._;>;);out center;",naam:"Recycling",zichtbaar:false},{url:"?data=(node[shop=travel_agency](bbox);way[shop=travel_agency](bbox);rel[shop=travel_agency](bbox));(._;>;);out center;",naam:"Travel agency<hr>",zichtbaar:false},{url:"?data=(node[emergency=defibrillator](bbox);way[emergency=defibrillator](bbox);rel[emergency=defibrillator](bbox));(._;>;);out center;",naam:"Defibrillator - AED",zichtbaar:false},{url:"?data=(node[emergency=fire_extinguisher](bbox);node[emergency=fire_hose](bbox));(._;>;);out center;",naam:"Fire hose/extinguisher<hr>",zichtbaar:false},{url:"?data=(node[fixme](bbox);way[fixme](bbox);node[FIXME](bbox);way[FIXME](bbox));(._;>;);out center;",naam:"fixme",zichtbaar:false},{url:"?data=(node[note](bbox));(._;>;);out center;",naam:"Note-Node",zichtbaar:false},{url:"?data=(way[note](bbox));(._;>;);out center;",naam:"Note-Way",zichtbaar:false},{url:"?data=(node[highway=construction](bbox);way[highway=construction](bbox));(._;>;);out center;",naam:"Construction",zichtbaar:false},{url:"?data=(node[image](bbox);way[image](bbox));(._;>;);out center;",naam:"Image",zichtbaar:false},{url:"?data=(node['surveillance:type'~'camera|webcam'](bbox));(._;>;);out center;",naam:"Public camera<hr>",zichtbaar:false},{url:"?data=(node[place=city](bbox));(._;>;);out center;",naam:"City",zichtbaar:false},{url:"?data=(node[place=town](bbox));(._;>;);out center;",naam:"Town",zichtbaar:false},{url:"?data=(node[place=village](bbox));(._;>;);out center;",naam:"Village",zichtbaar:false},{url:"?data=(node[place=hamlet](bbox));(._;>;);out center;",naam:"Hamlet",zichtbaar:false},{url:"?data=(node[place=suburb](bbox));(._;>;);out center;",naam:"Suburb",zichtbaar:false}];var cookieDefName="taglocpois";function UserTagObj(url,naam){this.url=url;this.naam=naam;this.zichtbaar=true}function makeUserLayer(userTags){uLayer=[];for(i=0;i<userTags.length;i++){var keyValues=userTags[i];if(keyValues=='')continue;var mode='';if(userTags[i].indexOf("{")==0){mode="searchIn"}else if(userTags[i].indexOf("(")>0){mode="searchAround"}else{mode="normal"}switch(mode){case"searchIn":k=userTags[i].indexOf("}");var name=userTags[i].substring(1,k);keyValues=userTags[i].substring(k+1);labels=keyValues.split("=");label=labels[labels.length-1];if((label=="yes")||(label=="no")){label=userTags[i];}url="?data=area[name="+name+"][type=boundary][boundary=administrative][admin_level~'[48]']->.a;(way(area.a)["+keyValues+"];node(area.a)["+keyValues+"];rel(area.a)["+keyValues+"]);(._;>;);out center;";naam=label+' ['+name+']';break;case"searchAround":var around='';var aroundPosBegin=userTags[i].indexOf("(");var aroundPosEnd=userTags[i].indexOf(")");around=userTags[i].substring(aroundPosBegin+1,aroundPosEnd);keyValues=userTags[i].substring(0,aroundPosBegin);var aroundKeyValues=userTags[i].substring(aroundPosEnd+1);var aroundLabels=aroundKeyValues.split("=");labels=keyValues.split("=");label=labels[labels.length-1];if((label=="yes")||(label=="no")){label=keyValues;}if(around.indexOf("-")==0){around=around.substring(1);aroundKeyValuesNeg=aroundKeyValues.replace("~","!~");url="?data=(node(bbox)["+keyValues+"];way(bbox)["+keyValues+"];)->.allnodes;((way(bbox)["+aroundKeyValues+"];)->.poi;(node(around.poi:"+around+")["+keyValues+"]->.result;way(around.poi:"+around+")["+keyValues+"]->.result;way(around.result:"+around+")["+aroundKeyValues+"];);)->.nearnodes;((.allnodes; - .nearnodes;);way(bbox)["+keyValues+"]["+aroundKeyValuesNeg+"];);(._;>;)->.notnear;.notnear out center;";naam=label+" NOT near: "+aroundLabels[aroundLabels.length-1]}else{url="?data=(node(bbox)["+keyValues+"];)->.poi;(node(around.poi:"+around+")["+aroundKeyValues+"]->.result;node(around.result:"+around+")["+keyValues+"];);out center;";naam=label+" near: "+aroundLabels[aroundLabels.length-1]}break;case"normal":labels=keyValues.split("=");label=labels[labels.length-1];if((label=="yes")||(label=="no")){label=userTags[i];}url="?data=(node["+keyValues+"](bbox);way["+keyValues+"](bbox);rel["+keyValues+"](bbox));(._;>;);out center;";naam=label}var uTag=new UserTagObj(url,naam);uLayer[i]=uTag}return uLayer}function layerdef(type){var userPoisDef;switch(type){case"amenity":userPoisDef=false;map.addLayers(make_array_layer(amenitydef,userPoisDef,"yellow"));break;case"tourism":userPoisDef=false;map.addLayers(make_array_layer(tourismdef,userPoisDef,"white"));break;case"sport":userPoisDef=false;map.addLayers(make_array_layer(sportdef,userPoisDef,"green"));break;case"shop":userPoisDef=false;map.addLayers(make_array_layer(shopdef,userPoisDef,"white"));break;case"food":userPoisDef=false;map.addLayers(make_array_layer(fooddef,userPoisDef,"white"));break;case"hotels":userPoisDef=false;map.addLayers(make_array_layer(hotelsdef,userPoisDef,"white"));break;case"various":userPoisDef=false;map.addLayers(make_array_layer(variousdef,userPoisDef,"white"));break;case"restaurants":userPoisDef=false;map.addLayers(make_array_layer(restaurantsdef,userPoisDef,"white"));break;case"userpoilayer":userPoisDef=true;userdef=makeUserLayer(userPois);map.addLayers(make_array_layer(userdef,userPoisDef,"red"));break}}function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires}function getCookie(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length)}return""}function checkCookie(){var i=1;lines=[];cookieName=cookieDefName+String(i);_item_=getCookie(cookieName);while(_item_!=""){lines.push(_item_);i++;cookieName=cookieDefName+String(i);_item_=getCookie(cookieName)}return lines;}function openOSMI(){var centerLonLat=map.getCenter().transform(map.getProjectionObject(),new OpenLayers.Projection("EPSG:4326"));window.open("http://tools.geofabrik.de/osmi/?lon="+centerLonLat.lon+"&lat="+centerLonLat.lat+"&zoom="+map.getZoom())}function openP2(){if(map.getZoom()>=13){var centerLonLat=map.getCenter().transform(map.getProjectionObject(),new OpenLayers.Projection("EPSG:4326"));window.open("http://www.openstreetmap.org/edit?editor=potlatch2&lat="+centerLonLat.lat+"&lon="+centerLonLat.lon+"&zoom="+map.getZoom())}else{alert("Zoom in to at least level 13 before editing!")}}function openiD(){if(map.getZoom()>=13){var centerLonLat=map.getCenter().transform(map.getProjectionObject(),new OpenLayers.Projection("EPSG:4326"));window.open("http://www.openstreetmap.org/edit?editor=id#map="+map.getZoom()+"/"+centerLonLat.lat+"/"+centerLonLat.lon)}else{alert("Zoom in to at least level 13 before editing!")}}function openJOSM(){if(map.getZoom()>=13){var bounds=map.getExtent().transform(map.getProjectionObject(),new OpenLayers.Projection("EPSG:4326"));$.ajax({url:'http://127.0.0.1:8111/load_and_zoom'+'?left='+bounds.left+'&right='+bounds.right+'&top='+bounds.top+'&bottom='+bounds.bottom+'&new_layer=0',complete:function(response){if(response.status!=200){window.alert('Could not connect to JOSM. Is JOSM running? Is Remote Control enabled?')}}})}else{alert("Zoom in to at least level 13 before editing!")}}var timeout=500;var closetimer=0;var ddmenuitem=0;function mopen(id){mcancelclosetime();if(ddmenuitem)ddmenuitem.style.visibility='hidden';ddmenuitem=document.getElementById(id);ddmenuitem.style.visibility='visible'}function mclose(){if(ddmenuitem)ddmenuitem.style.visibility='hidden'}function mclosetime(){closetimer=window.setTimeout(mclose,timeout)}function mcancelclosetime(){if(closetimer){window.clearTimeout(closetimer);closetimer=null}}